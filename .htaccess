# Apache 設定檔 - 增強網站安全性

# 禁用目錄瀏覽（防止看到檔案列表）
Options -Indexes

# 設定預設首頁檔案
DirectoryIndex index.php index.html

# 保護敏感檔案（防止直接訪問）
<FilesMatch "\.(md|txt|log|ini|conf)$">
    Order allow,deny
    Deny from all
</FilesMatch>

# 保護 .htaccess 檔案本身
<Files .htaccess>
    Order allow,deny
    Deny from all
</Files>

# 啟用錯誤頁面（可選，隱藏詳細錯誤訊息）
# php_flag display_errors Off
# php_flag display_startup_errors Off

# 防止訪問隱藏檔案（以 . 開頭的檔案）
<FilesMatch "^\.">
    Order allow,deny
    Deny from all
</FilesMatch>

# 設定字元編碼
AddDefaultCharset UTF-8

# 啟用壓縮（提升效能）
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript application/javascript
</IfModule>

# 設定快取（提升效能）
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType image/jpg "access plus 1 year"
    ExpiresByType image/jpeg "access plus 1 year"
    ExpiresByType image/gif "access plus 1 year"
    ExpiresByType image/png "access plus 1 year"
    ExpiresByType text/css "access plus 1 month"
    ExpiresByType application/javascript "access plus 1 month"
</IfModule>
